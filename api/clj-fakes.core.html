<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-fakes.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">clj-fakes 0.3.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-fakes</span></div></div></li><li class="depth-2 branch"><a href="clj-fakes.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-2 current"><a href="clj-fakes.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-fakes.core.html#var-*context*"><div class="inner"><span>*context*</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-any.3F"><div class="inner"><span>any?</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-arg"><div class="inner"><span>arg</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-calls"><div class="inner"><span>calls</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-fake"><div class="inner"><span>fake</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-fake*"><div class="inner"><span>fake*</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-mark-checked"><div class="inner"><span>mark-checked</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-method"><div class="inner"><span>method</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-method-was-called"><div class="inner"><span>method-was-called</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-method-was-called-once"><div class="inner"><span>method-was-called-once</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-method-was-not-called"><div class="inner"><span>method-was-not-called</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-optional-fake"><div class="inner"><span>optional-fake</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-original-val"><div class="inner"><span>original-val</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-patch.21"><div class="inner"><span>patch!</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-recorded-fake"><div class="inner"><span>recorded-fake</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-recorded-fake*"><div class="inner"><span>recorded-fake*</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-reify-fake"><div class="inner"><span>reify-fake</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-reify-fake*"><div class="inner"><span>reify-fake*</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-reify-nice-fake"><div class="inner"><span>reify-nice-fake</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-reify-nice-fake*"><div class="inner"><span>reify-nice-fake*</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-unpatch.21"><div class="inner"><span>unpatch!</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-unpatch-all.21"><div class="inner"><span>unpatch-all!</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-was-called"><div class="inner"><span>was-called</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-was-called-once"><div class="inner"><span>was-called-once</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-was-not-called"><div class="inner"><span>was-not-called</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-with-fakes"><div class="inner"><span>with-fakes</span></div></a></li><li class="depth-1"><a href="clj-fakes.core.html#var-with-fakes*"><div class="inner"><span>with-fakes*</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">clj-fakes.core</h2><div class="doc"><div class="markdown"><p>Simpler API for working in implicit dynamic context. Implements almost the same set of functions as <a href="clj-fakes.context.html">clj-fakes.context</a>.</p></div></div><div class="public anchor" id="var-*context*"><h3>*context*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>You can use this atom in your code but do not alter it directly; instead, always use framework API.</p><p>Also see <a href="clj-fakes.core.html#var-with-fakes">with-fakes</a> macro.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L20">view source</a></div></div><div class="public anchor" id="var-any.3F"><h3>any?</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L17">view source</a></div></div><div class="public anchor" id="var-arg"><h3>arg</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L16">view source</a></div></div><div class="public anchor" id="var-calls"><h3>calls</h3><div class="usage"><code>(calls)</code><code>(calls k)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L87">view source</a></div></div><div class="public anchor" id="var-fake"><h3>fake</h3><h4 class="type">macro</h4><div class="usage"><code>(fake config)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L73">view source</a></div></div><div class="public anchor" id="var-fake*"><h3>fake*</h3><h4 class="type">macro</h4><div class="usage"><code>(fake* form config)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L68">view source</a></div></div><div class="public anchor" id="var-mark-checked"><h3>mark-checked</h3><div class="usage"><code>(mark-checked k)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L91">view source</a></div></div><div class="public anchor" id="var-method"><h3>method</h3><div class="usage"><code>(method obj f)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L116">view source</a></div></div><div class="public anchor" id="var-method-was-called"><h3>method-was-called</h3><div class="usage"><code>(method-was-called f obj args-matcher)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L138">view source</a></div></div><div class="public anchor" id="var-method-was-called-once"><h3>method-was-called-once</h3><div class="usage"><code>(method-was-called-once f obj args-matcher)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L134">view source</a></div></div><div class="public anchor" id="var-method-was-not-called"><h3>method-was-not-called</h3><div class="usage"><code>(method-was-not-called f obj)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L142">view source</a></div></div><div class="public anchor" id="var-optional-fake"><h3>optional-fake</h3><div class="usage"><code>(optional-fake)</code><code>(optional-fake config)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L59">view source</a></div></div><div class="public anchor" id="var-original-val"><h3>original-val</h3><div class="usage"><code>(original-val a-var)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L152">view source</a></div></div><div class="public anchor" id="var-patch.21"><h3>patch!</h3><h4 class="type">macro</h4><div class="usage"><code>(patch! var-expr val)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L148">view source</a></div></div><div class="public anchor" id="var-recorded-fake"><h3>recorded-fake</h3><h4 class="type">macro</h4><div class="usage"><code>(recorded-fake)</code><code>(recorded-fake config)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L83">view source</a></div></div><div class="public anchor" id="var-recorded-fake*"><h3>recorded-fake*</h3><h4 class="type">macro</h4><div class="usage"><code>(recorded-fake* form)</code><code>(recorded-fake* form config)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L78">view source</a></div></div><div class="public anchor" id="var-reify-fake"><h3>reify-fake</h3><h4 class="type">macro</h4><div class="usage"><code>(reify-fake &amp; specs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L102">view source</a></div></div><div class="public anchor" id="var-reify-fake*"><h3>reify-fake*</h3><h4 class="type">macro</h4><div class="usage"><code>(reify-fake* form env &amp; specs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L97">view source</a></div></div><div class="public anchor" id="var-reify-nice-fake"><h3>reify-nice-fake</h3><h4 class="type">macro</h4><div class="usage"><code>(reify-nice-fake &amp; specs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L112">view source</a></div></div><div class="public anchor" id="var-reify-nice-fake*"><h3>reify-nice-fake*</h3><h4 class="type">macro</h4><div class="usage"><code>(reify-nice-fake* form env &amp; specs)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L107">view source</a></div></div><div class="public anchor" id="var-unpatch.21"><h3>unpatch!</h3><div class="usage"><code>(unpatch! a-var)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L156">view source</a></div></div><div class="public anchor" id="var-unpatch-all.21"><h3>unpatch-all!</h3><div class="usage"><code>(unpatch-all!)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L160">view source</a></div></div><div class="public anchor" id="var-was-called"><h3>was-called</h3><div class="usage"><code>(was-called k args-matcher)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L125">view source</a></div></div><div class="public anchor" id="var-was-called-once"><h3>was-called-once</h3><div class="usage"><code>(was-called-once k args-matcher)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L121">view source</a></div></div><div class="public anchor" id="var-was-not-called"><h3>was-not-called</h3><div class="usage"><code>(was-not-called k)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L129">view source</a></div></div><div class="public anchor" id="var-with-fakes"><h3>with-fakes</h3><h4 class="type">macro</h4><div class="usage"><code>(with-fakes &amp; body)</code></div><div class="doc"><div class="markdown"><p>Defines an implicit dynamic <a href="clj-fakes.core.html#var-*context*">*context*</a> and executes the body in it. Inside the body you can use the simpler <a href="clj-fakes.core.html">clj-fakes.core</a> API instead of <a href="clj-fakes.context.html">clj-fakes.context</a> API.</p><p>The block will automatically unpatch all the patched variables and execute self-tests on exiting. Self-tests will not be executed if exception was raised inside the body. Variables are guaranteed to always be unpatched on exiting the block.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L48">view source</a></div></div><div class="public anchor" id="var-with-fakes*"><h3>with-fakes*</h3><div class="usage"><code>(with-fakes* f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Function which drives <a href="clj-fakes.core.html#var-with-fakes">with-fakes</a> macro. It defines an implicit dynamic <a href="clj-fakes.core.html#var-*context*">*context*</a> and executes function <code>f</code> with specified arguments inside the context.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/clj-fakes/blob/master/src/clj_fakes/core.cljc#L26">view source</a></div></div></div></body></html>